
* 力学
	* 力学之描述 -- 运动方程
		\def{广义坐标} 完全刻画其位置的任意s个变量 $q_1,q_2, ... ,q_{s}$. (对于s个自由度的系统,)
		
		\def{广义速度} 广义坐标对时间的一阶导$\dot q_1,\dot q_2, ... ,\dot q_{s}$
		
		* 经验表明, 同时给定广义坐标、广义速度, 就可确定系统状态, 原则上可预测以后动作.(其中,加速度$\ddot q$, 可由$\dot q,q$唯一确定.)
		
		\def{运动方程} 加速度与坐标、速度的关系式. (二阶微分方程,原则上积分得q(t)可确定系统运动轨迹.)
		
		\def{Lagrange函数} 每一个力学系统可以用一个确定函数L()表征.
		
		$L(q_1,q_2, ... ,q_{s},\dot q_1,\dot q_2, ... ,\dot q_{s},t)$
		
		\def{最小作用量原理}系统在两个时刻的, 位置之间的运动, 使得Lagrange函数积分(作用量S)取最小值.
			$S = \int_{t1}^{t2} L(q,\dot q,t)dt$
			$\delta S = \delta \int_{t1}^{t2} L(q,\dot q,t)dt = \int_{t1}^{t2} (\frac{∂ L}{∂ q}\delta q + \frac{∂ L}{∂ \dot q}\delta \dot q) dt = \frac{∂ L}{∂ \dot q} \delta q \arrowvert_{t1}^{t2} + \int_{t1}^{t2} (\frac{∂ L}{∂ q} - \frac{d}{dt} \frac{∂ L}{∂ \dot q}) \delta q dt = 0$
		
		\def{Lagrange方程}运动微分方程.
			$ => \frac{d}{dt}\frac{∂ L}{∂ \dot q_i} - \frac{∂ L}{∂ q_i} = 0\quad(i=1,\dots,s)$

	* 力学之框架 -- 参考系
		* 研究力学现象必须选择参考系.
		
		\bf{惯性参考系}:空间相对它均匀且各向同性,时间相对它均匀.(特别的,某时刻静止的自由物体将永远保持静止.)\\
		$ =>$ Lagrange函数不显含$\.r,t$,不依赖$\.v$的矢量方向,即
			$L = L(v^2)$
		
		$ =>$ Lagrange方程有$\frac{d}{dt}\frac{∂ L}{∂ \.v} = -\frac{∂ L}{∂ \.r} = 0 => \frac{∂ L}{∂ \.v}=const$
		
		\def{惯性定律} 在惯性参考系中,质点任何自由运动的速度的大小和方向都不改变.
			$ => \.v = const$

	* 力学之框架 -- 参考系间相对性
		\def{Galilean相对性原理} 存在无穷个相互作匀速直线运动的惯性参考系,这些惯性系之间时空性质相同,所有力学规律等价.
		
		(今后不特别声明,默认惯性参考系.)
		
		\def{Galilean变换} 两个不同参考系K、K'之间的的坐标变换(K'相对K以速度$\.V$运动).
		
		\def{绝对时间假设} 我们认为两个参考系的时间相同.
			$
				\{
				\.r = \.r' + \.V t
				t = t'
				\right.
			$
		
		\def{Galilean相对性原理} 力学系统在Galilean变换下具有不变性.
	
	* 力学之对象 -- 质点、质点系
		\bf{质点}:有质量,无体积形状的,理想的点.
		
		\bf{质点的Lagrange函数}:
		
		\bf{质量 m}:
			$L = \frac{m}{2} v^2$
		
		\bf{质点系}:2个及以上相互作用的质点,组成的力学系统.
		
		\bf{质点系的Lagrange函数}:
		
		\bf{动能 T}: \quad \bf{势能 U}:描述质点之间相互作用,而增加的关于坐标的函数(由相互作用性质决定)(限于经典力学).
			$L = \sum \frac{m_i v_i^2}{2} - U(\.r_1,\.r_2, ...  ) = T(v_1^2,v_2^2, ... ) - U(\.r_1,\.r_2, ...  )$

	* 力学之不变性 -- 守恒定律
		* 能量守恒 -- 时间均匀性
			时间均匀性: 封闭系统Lagrange函数不显含时间.\quad $ => L(\.q,\dot \.q)$
				$\frac{dL}{dt} = \sum \frac{∂ L}{∂ q_i} \dot q_i + \sum \frac{∂ L}{∂ \dot q_i} \ddot q_i = \sum \frac{d}{dt}(\frac{∂ L}{∂ \dot q_i}\dot q_i) 
				=> \frac{d}{dt}(\sum \dot q_i \frac{∂ L}{∂ \dot q_i} - L) = 0$
				
			\def{能量}
				$ => E = \sum \dot q_i \frac{∂ L}{∂ \dot q_i} - L  = T(q,\dot q) + U(q) = const.$

			* 封闭系统、定常外场系统,即当Lagrange函数不显含时间时,能量守恒成立.

		* 动量守恒 -- 空间均匀性、力
			空间均匀性: 空间平移不变性.
				$\delta L = \sum \frac{∂ L}{∂ \.r_i}· \delta \.r_i = \.\epsilon · \sum \frac{∂ L}{∂ \.r_i} = 0\quad(\forall \.\epsilon)
				=> \sum \frac{∂ L}{∂ \.r_i} = \sum \frac{d}{dt} \frac{∂ L}{∂ \.v_i} = \frac{d}{dt} \sum \frac{∂ L}{∂ \.v_i} = 0$
		
			\def{动量}
				$ => \.P = \sum \frac{∂ L}{∂ \.v_i} = \sum m_i \.v_i = const.$
		
			\def{力}
				动量对时间的一阶导. 封闭系统合外力为零.
				$ => \sum \frac{∂ L}{∂ \.r_i} = \sum \.F_i = 0 \quad , \quad \.F = \frac{∂ L}{∂ \.r} = \dot{ \.P }$
		
			\bf{广义动量、广义力}:
				$P_i = \frac{∂ L}{∂ \dot q_i},\quad F_i = \frac{∂ L}{∂ \dot q_i} = \dot P_i$

		* 角动量守恒 -- 空间各向同性
			空间各向同性: 空间旋转不变性.
				$
				\delta L = \sum (\frac{∂ L}{∂ \.r_i} · \delta \.r_i + \frac{∂ L}{∂ \.v_i} · \delta \.v_i) = \sum [\dot{\.P_i} · (\delta \.\varphi × \.r_i) + \.P_i · ( \delta \.\varphi × \.v_i )]
				= \delta \.\varphi · \sum (\.r_i \tims \dot{\.P_i} + \.v_i \tims \.P_i) \\
				\quad\  = \delta \.\varphi · \frac{d}{dt} \sum \.r_i × \.P_i = 0\quad(\forall \.\varphi) => \frac{d}{dt}\sum \.r_i × \.P_i = 0
				$
			
			\def{角动量}
				$ => \.M = \sum \.r_i × \.P_i = const.$

		* $E,\.P,\.M$参考系间变换
			不同惯性参考系中(K'相对K以速度$\.V$运动)(对于$\.M$且K'相对K坐标原点相差$\.R$)
			$ \{
				E = \frac{1}{2} \sum m_i(\.v_i + \.V)^2 + U = \frac{m_c V^2}{2} + \.V · \sum m_i \.v'_i + \frac{1}{2} \sum m_i v'_i^2 + U = E' + \.V · \.P' + \frac{m_c V^2}{2}
				\.P = \sum m_i (\.v'_i + \.V) = \sum m_i \.v'_i + \.V \sum m_i = \.P' + \.V \sum m_i
				\.M = \sum m_i (\.r'_i + \.R) × (\.v'_i + \.V) = \sum m_i( \.r'_i × \.v'_i +  \.R × \.v'_i + \.r'_i × \.V + \.R × \.V)
				= \.M' + \.R × \.P'_c + m_c \.r'_c × \.V + m_c \.R × \.V
			\right. $

	* 力学之相似性
		* Lagrange函数乘任意常数,不会改变运动方程.
			$\.r_i \to \alpha \.r_i, t \to \beta t 
			=> \.v_i = \frac{d\.r_i}{dt} \to \frac{\alpha}{\beta}\.v_i,T \to \frac{\alpha^2}{\beta^2}T,U \to  \alpha^k U$
		
		若$\frac{\alpha^2}{\beta^2} = \alpha ^ k $,即$\beta = \alpha^{1-k/2}$,则Lagrange函数乘const.,运动方程不变.前后运动轨迹相似,只是尺寸不同.
		
		且各力学量之比,满足:\quad(l:轨迹线度)
			$\frac{t'}{t} = (\frac{l'}{l})^{1-k/2},\frac{v'}{v} = (\frac{l'}{l})^{k/2},\frac{E'}{E} = (\frac{l'}{l})^k,\frac{M'}{M} = (\frac{l'}{l})^{1+k/2}$
			
		\Example
			* 均匀力场,势能与坐标成线性,$ => k=1,=> \frac{t'}{t} = \sqrt{\frac{l'}{l}}$,重力场自由落体,下落时间平方与初始高度成正比.
			
			* Kepler's第三定律,Newton引力、Coulomb力,势能与两点间距离成反比,$ => k=-1, => \frac{t'}{t} = (\frac{l'}{l})^{3/2}$,轨道运动周期的平方与轨道尺寸的立方成正比.

	* 质心 (力学之对象)
		\bf{质心系}:\exists 速度$\.V$使得系统相对K'静止($\.P' = 0$),且K'原点为系统质量中心,K'即质心系:
			$\.V = \frac{\.P}{\sum m_i} = \frac{\sum m_i \.v_i}{\sum m_i}$
			
		\bf{质心}: 质点系的质量中心,并将质点系$\Leftrightarrow$位于质心的质点.
			$\{
				m_c = \sum m_i
				\.r_c = \frac{\sum m_i \.r_i}{\sum m_i}
				\.v_c = \frac{\sum m_i \.v_i}{\sum m_i}
			\right.$

		\bf{质心力学量}
			内能$E_{int}$: 整体静止的(质心系内)力学系统的能量,包括系统内相对运动动能 + 相互作用势能.
			$ \{
				\.P_c = m_c \.v_c
				E_c = \frac{m_c V^2}{2} + \.V · \.P' |_{\.P'= 0} + E_{int} = E_{int} + \frac{m_c v_c^2}{2}
				\.M_c = \.M' + \.R × \.P'_c + m_c \.r'_c × \.V + m'_c \.R × \.V|_{\.P'_c =\.r'_c = 0, \.R =\.r_c, \.V =\.v_c} = \.M_{int} + \.r_c × \.P_c 
				\right.
			$

		\bf{质心组合关系}: 将质点系分成若干小系,各小系质心构成新的质点系之质心即为原质点系的质心.

		\Example
			* 一维运动
				一维运动,定常外部条件下,
				
				* Lagrange函数:
					$L = \frac{1}{2} = a(q) \dot q^2 - U(x)\quad (CartesianCoord)=> L = \frac{m \dot x^2}{2} - U(x)$
				
				* 运动不变性 -- 能量守恒: 定常外场下能量守恒,有
					$E = \frac{∂ L}{∂ \dot q}\dot q - L = \frac{1}{2}m· 2 \dot x · \dot x - (\frac{m \dot x^2}{2} - U(x)) = \frac{m \dot x^2}{2} + U(x) $
				
				* 运动方程:
					$\dot x = \frac{dx}{dt} = \sqrt{\frac{2}{m}[E - U(x)]}\quad => \quad t = \sqrt{\frac{m}{2}} \int \frac{dx}{\sqrt{E - U(x)}} + const$
					$\because$动能恒正,故运动只能发生在$U(x) \leqslant E$的空间区域.

			* 二体问题
				\bf{二体问题}: 两个相互作用的质点,组成的系统的运动.(相互作用的两个质点的势能仅依赖于它们之间的距离.)
				二体问题Lagrange函数:
					$L = \frac{m \.\dot r_1^2}{2} + \frac{m \.\dot r_1^2}{2} - U(|\.r_1 - \.r_2|)$
				
				\bf{核心思想}: 将问题分解为\bf{质心运动}和\bf{相对质心运动},以质心为原点:
					$m_1\.r_1 + m_2 \.r_2 =0,\quad \.r_{12} = \.r_1 - \.r_2, \quad => \quad \.r_1 = \frac{m_2}{m_1 + m_2}\.r_{12}, \quad \.r_2 = - \frac{m_1}{m_1 + m_2}\.r_{12} $
					$ => L = \frac{m_{12} \.\dot r_{12}^2}{2} - U(|\.r_{12}|), \quad m_{12} = \frac{m_1 m_2}{m_1 + m_2}$
					$ =>$"二体问题"等效为一个质量$m_{12}$的质点,在外场$U(\.r_{12})$下的运动, 而分运动$\.r_1, \.r_2$, 可由$\.r_{12}$分别解出.
			
			* 有心力场
				\def{有心力场} 质点势能只与质点到某一固定点的距离有关的外场.
				
				\def{有心力} 始终指向or背离与质点到某一固定点的方向, 且大小只依赖r的力.
					$\.F = -\frac{∂ U(r)}{∂ \.r} = -\frac{d U(r)}{d r} \hat r$
	
		* 运动不变性 -- 角动量守恒
			中心对称外场下(即势能仅依赖到空间某特定点(中心)距离),系统角动量在任意过中心的轴上投影都守恒.
			$ => \.M = \.r × \.P = const.$
			$ =>$ 质点运动在垂直于$\.M$的平面内.\quad $ =>$ 有心力场,\bf{[0] Lagrange函数}:
			$L = \frac{1}{2}m v^2 - U(r) = \frac{m}{2} (\dot r^2 + r^2 \dot \varphi^2) - U(r)$
			$\varphi$的广义动量:
			$P_\varphi = \frac{∂ L}{∂ \dot \varphi} = m r^2 \dot \varphi \quad , \quad \frac{d P_\varphi}{d t} = \frac{d}{d t}\frac{∂ L}{∂ \dot \varphi} = \frac{∂ L}{∂ \varphi} \frac{d \frac{d \varphi}{d \varphi / d t}}{d t} = \frac{∂ L}{∂ \varphi} = 0 \quad , \quad |\.M| = M_z = \sum \frac{∂ L}{∂  \dot \varphi} = P_\varphi$
			$ => |\.M| =| \.r × \.P |= P_\varphi = m r^2 \dot \varphi = const.$
	
			\Theorem{Kepler's第二定律}:质点矢径在相同时间内扫过的面积相等.
				$ => M = m r^2 \dot \varphi = 2 m \dot S_{sector} = const.\quad => \dot S_{sector} = \frac{1}{2} r · r d\varphi = const.$
	
		* 运动不变性 -- 能量守恒: 定常外场下能量守恒,有
			$E = \frac{∂ L}{∂ \dot q}\dot q - L = \frac{m}{2} (\dot r^2 + r^2 \dot \varphi^2) + U(r) = \frac{m \dot r^2}{2} + \frac{M^2}{2mr^2} + U(r)$
	
		* 运动方程:
			$ => t = \int \frac{d r}{\sqrt{\frac{2}{m}[E-U(r)] - \frac{M^2}{m^2 r^2}}} + const. \quad \varphi = \int \frac{M}{m r^2} d t  + const.= \int \frac{M/r^2\ dr}{\sqrt{2m [E-U(r)] - M^2/r^2}} + const.$
	
		* 结果讨论: 有心力场径向运动,和一维运动的联系.
	
		\def{等效势能}
			$U_{eff} = U(r) + \frac{M^2}{2mr^2}$
	
		\def{离心势能}
			$U_{centrifuge} = \frac{M^2}{2mr^2}$
			运动封闭条件:$Δ \varphi$等于$2π$有理数倍.\quad($U(r) \propto \frac{1}{r}\ ,\ r^2$,则运动始终封闭.)
			$Δ \varphi = \int_{r_{min}} ^{r_{max}} \frac{M/r^2\ dr}{\sqrt{2m [E-U(r)] - M^2/r^2}} + const.$

		* 1/r有心力场
			势能$U(r) \propto \frac{1}{r}$.\quad eg.引力场,库仑电场.
			$U = - \alpha / r$
			
			* 运动方程: 焦点位于原点的圆锥曲线方程.\quad 偏心率e.
			$\varphi = \int \frac{M/r^2\ dr}{\sqrt{2m (E+\frac{\alpha}{r}) - \frac{M^2}{r^2}}} + C. = \int \frac{-dk}{\sqrt{2mE + \frac{2m\alpha}{M}k - k^2}}|_{k = \frac{M}{r}} + C. = arccos\frac{M/r - m\alpha /M}{\sqrt{2mE + m^2 \alpha^2 /M^2}} + C.$
			$ => p/r = 1 + e \ cos \varphi \quad , \quad p = \frac{M^2}{m\alpha} , e = \sqrt{1 + \frac{2 E M^2}{m \alpha^2}}$
			
			* 结果讨论: 
				* $\alpha > 0\ and\ e<1, E<0$时,轨道为椭圆}\quad,半长轴a: \quad , 半短轴b: \quad , 周期T:
					$a = \frac{p}{1-e^2} = \frac{\alpha}{2|E|} \quad , \quad b = \frac{p}{\sqrt{1-e^2}} = \frac{M}{\sqrt{2m|E|}} \quad , \quad T = \frac{2mS_{ellipse}}{M} = \frac{2π m \frac{\alpha}{2|E|} \frac{M}{\sqrt{2m|E|}}}{M} = π \alpha \sqrt{\frac{m}{2|E|^3}} $
		
				* $\alpha > 0\ and\ e=1, E=0$时,轨道为抛物线}
	
				* $\alpha > 0\ and\ e>1, E>0$时,轨道为双曲线}
	
				* $\alpha < 0$斥力场时,轨道为双曲线}

	* 小振动
		* 一维小振动
			\def{一维小振动}
				设系统在势场$q_0$处平衡,即$F = -\frac{dU(q)}{dq}|_{q=q_0} = 0$,当平衡处发生微小偏移至$q(q\to q_0)$,Taylor展开,
				$U(q) - U(q_0) = [U(q_0) - U(q_0)] + [\frac{d U(q)}{dq}|_{q=q_0} (q - q_0)]+ [\frac{d^2 U(q)}{dq^2}|_{q=q_0} \frac{(q - q_0)^2}{2}] + o((q - q_0)^2) \approx \frac{d^2 U(q)}{dq^2}|_{q=q_0} \frac{(q - q_0)^2}{2}$
			
			等效势能:
			$U(x) = - \frac{k x^2}{2} \quad , \quad x = q-q_0 \quad ,\quad k = \frac{d^2 U(q)}{dq^2}|_{q=q_0}$
			
			* Lagrange函数:
				$L = T - U = \frac{m \dot x^2}{2} - \frac{k x^2}{2}$
			
			* 运动方程: 系统在平衡位置附近作正弦振动.
				$\frac{d}{dt} \frac{∂ L}{∂ \dot x} = \frac{∂ L}{∂ x} = \frac{d m\dot x}{dt} = -kx \quad => m \ddot x = -kx \quad => x = A cos(\omega t + \alpha) \quad , \omega = \sqrt{k/m}$
			
			* 运动不变性 -- 能量守恒:
				$E = \frac{∂ L}{∂ \dot q}\dot q - L = \frac{m \dot x^2}{2} + \frac{k x^2}{2} = \frac{1}{2} m \omega^2 A^2$

		* 一维强迫小振动、共振
			\def{强迫振动} 外力下振动系统发生的振动. 对于微小偏移,强迫力势场,Taylor展开,有
			
			\bf{强迫力$F(t)$}:
				$U_e(x,t) \approx U_e(0,t) + \frac{∂ U_e}{x}|_{x=0}x = U_e(0,t) + xF(t)$
			
			* Lagrange函数:
				$L = T - (U_0 + U_e) = \frac{m \dot x^2}{2} - \frac{k x^2}{2} + xF(t)$
			
			* 运动方程:
				$\ddot x + \omega^2 x = \frac{F(t)}{m}$
			
			* 结果讨论:
				* 若强迫力是正弦函数$F(t) = f cos(\gamma t + \beta)$
					$ => x = A\ cos(\omega t + \alpha) + \frac{f}{m(\omega^2 - \gamma^2)} cos(\gamma t + \beta)$
				
				* \bf{共振}:若强迫力是正弦函数,且$\gamma = \omega$.\quad 振幅随时间线性增大,直至不再是小量,理论不再适用为止.
					$ => \lim_{\gamma \to \omega}x = A' \cos(\omega t + \alpha) + \frac{f t}{2m\omega} \sin(\omega t + \beta)$
		
				* 共振附近:若强迫力是正弦函数,且$\gamma = \omega + \epsilon$.\quad 幅度以频率$\epsilon$变化(\bf{拍频})的小振动.
					$ => x = (A' + B' e^{i\epsilon t})e^{i\omega t} \quad ,A' = Ae^{i\alpha},B' = Be^{i\beta},|A' + B' e^{i\epsilon t}| \in \{|A-B|,A+B\} $
		
				* 任意强迫力
					$let\ \xi = \dot x + i\omega x\ => \dot \xi - i\omega \xi = \frac{F(t)}{m}  \ => x = \frac{1}{\omega}Im\{\int_0^t \frac{F(t)}{m}e^{-i\omega t}dt + const.\}$

		* 多自由度小振动

	* 刚体力学
		\def{刚体}:质点间距离保持不变的质点组成的系统.
		
		\bf{角速度}:
		
		\def{惯性张量}

	* 流体力学
		* 理想流体
			\def{理想流体} 
				不可压缩、不计粘性的流体. 
				给定5个量:速度$(v_x,v_y,v_z)$,压强$p$,密度$\rho$,可完全确定运动流体的状态.
			
			* 质量守恒
				区域体流出质量 = 区域封闭面流出质量.
				$ 
					& \oint \rho \.v · d \.f = -\frac{∂}{∂ t}\int \rho dV \quad
					=>\quad & \int ∇ · (\rho \.v) dV  = -\frac{∂}{∂ t}\int \rho dV
					=>\quad & \int (∇ · (\rho \.v) + \frac{∂ \rho}{∂ t}) dV  = 0
				$
				
				\Theorem{连续性方程}
					质量流流出速率 = 流体密度减少速率.
					$∇ · (\rho \.v) + \frac{∂ \rho}{∂ t} = 0$
				
				\bf{质量流密度}:
					$\.j = \rho \.v$
				
			* 运动方程
				合力:
				$
					-\oint p d \.f = -\int ∇ p\ dV
					\rho \frac{d \.v}{t} = -∇ p
				$

			* Eular 理想流体方程
				\Theorem{Eular 理想流体方程}
					$\frac{∂ \.v}{∂ t} + (\.v · ∇)\.v = - \frac{1}{\rho}∇ p$
					重力场$\.g$下,
					$\frac{∂ \.v}{∂ t} + (\.v · ∇)\.v = - \frac{1}{\rho}·∇ p + \.g$
					$- ∇ p$: 单位体积流体上的作用力.

				\Proof
					$
						\rho \frac{\d \.v}{\d t} &=  - ∇ p + \rho \.g  \tag{微元运动方程}
						\d \.v &= \frac{∂ \.v}{∂t} \d t + (\d \.r · ∇) \.v    \tag{全导数}
						=> \frac{\d \.v}{\d t} &= \frac{∂ \.v}{∂t} + (\.v · ∇) \.v  \tag{除以$\d t$}
						=> \frac{∂ \.v}{∂t} + (\.v · ∇) \.v = - \frac{1}{\rho} ∇ p + \.g  \tag{代入}
					$

			\Example
				* 静止流体 -- 流体静力学
					\def{静止流体 -- 流体静力学}
						静止流体的力学分析.

					\Example
						* 均匀向下重力场$\.g = g \hat{\.z}$中的静止流体, Eular方程有
							$
								∇ p = \rho \.g
								=> p = -\rho g z + const.  \tag{$\.g = g \hat{\.z}$, 积分}
								=> p = -\rho g h + p_0  \tag{距液面深度$h$, 大气压$p_0$}
							$

						* 对于大量液体或气体,一般不能认为密度$\rho$处处相同, 对于气体(例如大气)尤其如此.如果假设流体不仅处于力学平衡, 而且处于热平衡, 则流体中的温度处处相同, $\Phi = \frac{∇ p}{\rho}$ 质量热力学势
							$\Phi + gz = const.$

						* 质量极为巨大的一团流体(如恒星), 流体各部分由于万有引力而结合在一起.
							$
								Δ \varphi=4 π G \rho  \tag{引力势}
								∇ · (\frac{1}{\rho} ∇ p)=-4 π G \rho
							$
							如果星体不发生旋转, 则它在平衡状态下星球形, 密度和压强的分布也是球对称的, 方程在球面坐标下的形式为
							$\frac{1}{r^2} \frac{\d}{\d r} (\frac{r^2}{\rho} \frac{\d p}{\d r})=-4 π G \rho$

				* 定常流体
					\def{定常流体}
						流体所在区域任意一点的速度都不随时间变化的流体.

					\Theorem{Bernoulli 方程}
						$\frac{v^2}{2} + w = const.$
						重力场中,
						$\frac{v^2}{2} + w + g z= const.$

		* 黏性流体
			\def{黏性流体}

			* Navier Stokes 流体方程
				\Theorem{Navier Stokes 流体方程}
					$\rho (\frac{∂\.v}{∂t} + (\.v · ∇) \.v) =  - ∇ p  + \rho \.g + \eta ∇^2 \.v + (\zeta + \frac{\eta}{3}) ∇ (∇ · \.v)$
					$\eta$: 粘度;	$\rho$: 密度;	压强: $∇ ·∇ p = ∇ ·v·\rho/ dt$

					若是不可压缩流 $∇ ·\.v ≡ 0$, 则
					$\frac{∂\.v}{∂t} + (\.v·∇) \.v = \frac{1}{\rho} ∇ p  + \rho \.g + \frac{\eta}{\rho} ∇^2 \.v$

		* 超流体

* 场论
	* 相对论力学
		* 相对性原理, 相互作用的传播速度
			\Theorem{相对性原理} 所有自然定律, 在所有惯性参考系中都相同.

			\Theorem{相互作用的传播速度}
				相互作用的最大传播速度, 在所有惯性参考系中都一样(相对性原理可得). 可以证明, 这个速度是光在真空中的速度.
				$c = 2.998 × 10^8 m/s$
				(取$c\to \infty$, 即可过渡到经典力学.)

			\Property
				* \bf{时间是相对的}, 不同参考系中时间的流逝速度不同. "两个不同事件之间有一定的事件间隔"这句话, 只有在指定哪一个参考系下才有意义, 因为在参考系$K_1$同时发生的两个事件, 在参考系$K_2$可能是不同时的.
			
			\bf{实验}
				* 实验表明, 相对性原理是有效的.
				* 实验表明, 瞬时相互作用在自然界不存在, 相互作用的传播需要时间.
				* 1881年Michelson-Morley干涉实验, 表明光速与其传播方向无关. 而按经典力学,光应在地球速度同方向$(v+c)$,比反方向$(v-c)$更快一点. 因此, Galilean变换的绝对时间假设$(t=t')$错了, 不同参考系下时间流逝的速度不同.
		
		* Minkowski时空
			\def{事件} 一个事件由其发生的位置和时间所描述$(t, x, y, z)$.

			\def{Minkowski时空} 是三维欧几里得空间和时间的组合四维流形$(t, x, y, z)$.

			* 事件间隔
				\def{事件间隔} 
					$
						s_{12} = (c^2 (t_2-t_1)^2 - (x_2-x_1)^2 - (y_2-y_1)^2 - (z_2-z_1)^2)^{\frac{1}{2}}
						\d s = (c^2 \d t^2 - \d x^2 - \d y^2 - \d z^2)^{\frac{1}{2}}
					$

				\Property
					* 两个事件的间隔在任何惯性系下都一样. 这个不变性,就是光速不变的数学表示.				
					* 类时间隔, 仅在时间上有变化的间隔, 故间隔为实数.
					* 类空间隔, 仅在空间上有变化的间隔, 故间隔为虚数.

		* 参考系变换 -- Lorentz变换
			\Theorem{Lorentz变换} 设两个惯性参考系 $K, K'$, 其中$K'$沿$x$轴以速度$V$相对于$K$作相对运动, 
				$
					(\mb t' \\ x' \\ y' \\ z' \me) = (\mb
						\frac{1}{\sqrt{1-(\frac{V}{c})^2}} & \frac{-\frac{V}{c^2}}{\sqrt{1-( \frac{V}{c} )^2}}
						\frac{-V}{\sqrt{1-( \frac{V}{c} )^2}} & \frac{1}{\sqrt{1-( \frac{V}{c} )^2}}
						& & 1
						& & & 1
					\me) (\mb t \\ x \\ y \\ z \me)
				$

			\Proof
				* 若新旧两个参考系的相对速度不变, 则参考系变换是一种线性变换.
					$(\mb c t' \\ x' \\ y' \\ z' \me) = \.A (\mb c t \\ x \\ y \\ z \me)$

				* 光速不变原理. 所要求的参考系变换, 能够使得Minkowski时空中, 变换前后所有事件间隔不变.
					$
						Δs^2 &= c^2 Δt^2 - Δx^2 - Δy^2 - Δz^2 
							 &= c^2 Δt'^2 - Δx'^2 - Δy'^2 - Δz'^2 
							 &= const.
					$

					化为矩阵式, 可解得 $\.\eta = \.A^T \.\eta \.A$.
					$
						=> \quad& (\mb c Δt \\ Δx \\ Δy \\ Δz \me)^T (\mb -1 \\ & 1\\ & & 1\\ & & & 1 \me) (\mb c Δt \\ Δx \\ Δy \\ Δz \me) = (\mb c Δt' \\ Δx' \\ Δy' \\ Δz' \me)^T (\mb -1 \\ & 1\\ & & 1\\ & & & 1 \me) (\mb c Δt' \\ Δx' \\ Δy' \\ Δz' \me) = const.
						=> \quad& \.p^T \.\eta \.p = \.p'^T \.\eta \.p'  \tag{简写}
							& \.p^T \.\eta \.p = (\.A \.p)^T \.\eta (\.A \.p)  \tag{代入}
							& \.p^T \.\eta \.p = \.p^T \.A^T \.\eta \.A \.p  \tag{转置}
						=> \quad& \.\eta = \.A^T \.\eta \.A  \tag{矩阵计算}
					$

				* 能够满足事件间隔不变条件的变换, 只有平移和旋转. 排除平移、三维空间旋转、空间反射、时间反演等已经熟悉的变换, 于是, 我们重点关注的是$(t x, t y, t z)$平面内的旋转. 假设y轴z轴不做变换, 只有t轴x轴有变换, 以简化问题并排除三维空间旋转, 可得,
					$
						=> \quad& (\mb c Δt' \\ Δx' \me) = \.A_{t,x} (\mb c Δt \\ Δx \me)
						& (\mb -1 \\ & 1 \me) = \.A_{t,x} (\mb -1 \\ & 1 \me) \.A_{t,x}
						=> \quad& \.A_{t,x} = (\mb a & b \\ c & d \me) \quad  \{\mb
								-a^2 + c^2 = -1
								-b^2 + d^2 =  1
								-a b + c d =  0
							\me\right.
					$
					可知双曲函数$\cosh^2 x - \sinh^2 x = 1$是一组满足该方程组的解, 这个解即是$t x$平面的旋转变换矩阵,
					$
						\.A_{t,x} = (\mb \cosh \mu & \sinh \mu \\ \sinh \mu & \cosh \mu \me) 
					$

				* 新惯性参考系中原点坐标恒为零, 而在旧惯性参考系中新系原点以速度$V$沿$x$轴运动, 代入可解出$\mu$和目标变换矩阵.
					$(\mb c t' \\ 0 \me) = \.A_{t,x} (\mb c t \\ V t \me) = (\mb \cosh \mu & \sinh \mu \\ \sinh \mu & \cosh \mu \me) (\mb c t \\ V t \me)$
					
					$
						=> \quad & \mu = artanh(-\frac{V}{c})
						=> \quad & \{\mb
								\tanh \mu = -\frac{V}{c} = \frac{\sinh \mu}{\cosh \mu}
								\cosh^2 \mu - \sinh^2 \mu = 1
							\me\right.
						=> \quad & \{\mb
								\sinh \mu = \frac{-\frac{V}{c}}{\sqrt{1 - (\frac{V}{c})^2}}
								\cosh \mu = \frac{1}{\sqrt{1 - (\frac{V}{c})^2}}
							\me\right.
						=> \quad & (\mb c t' \\ x' \me) = (\mb
								\frac{1}{\sqrt{1-( \frac{V}{c} )^2}} & \frac{-\frac{V}{c}}{\sqrt{1-(\frac{V}{c} )^2}}\\
								\frac{-\frac{V}{c}}{\sqrt{1-( \frac{V}{c} )^2}} & \frac{1}{\sqrt{1-( \frac{V}{c} )^2}}
							\me) (\mb c t \\ x \me)
						=> \quad & (\mb t' \\ x' \me) = (\mb
								\frac{1}{\sqrt{1-( \frac{V}{c} )^2}} & \frac{-\frac{V}{c^2}}{\sqrt{1-(\frac{V}{c} )^2}}\\
								\frac{-V}{\sqrt{1-( \frac{V}{c} )^2}} & \frac{1}{\sqrt{1-( \frac{V}{c} )^2}}
							\me) (\mb t \\ x \me)
					$

			\Example
				* 钟慢效应

				* 尺缩效应

			* 速度变换
				\Theorem{Lorentz变换下的速度变换}
					$ => v_x = \frac{v'_x + V}{1 + v'_x \frac{V}{c^2}}, \quad v_y = \frac{v'_y \sqrt{1 - \frac{V^2}{c^2}}}{1 + v'_x \frac{V}{c^2}},\quad v_z = \frac{v'_z \sqrt{1 - \frac{V^2}{c^2}}}{1 + v'_x \frac{V}{c^2}}$

				\Proof 
					$\.v = \frac{d\.r}{dt},\quad v' = \frac{d\.r'}{dt}$

			* 质量变换
				$m = \frac{m_0}{\sqrt{1 - ( \frac{V}{c} )^2}}$

				静止质量
				$E_k = m c^2$

	* 电磁学
		* 电磁场方程
			* 事实表明,粒子同电磁场相互作用的性质,由粒子电荷$q$所决定.
		
			\bf{四维势$A_{i}$: \quad 标势$\varphi$: \quad 矢势$\.A$:}
				$A^{i}=(\varphi,\.A)$
				
			运动方程:
				$\frac{d\.P}{dt} = - \frac{e}{c} \frac{∂\.A}{∂ t} - e ∇ \varphi + \frac{e}{c} \.v × ∇ × \.A$
				
			\bf{电场强度, 磁场强度}
				$ \{
					\.E = -\frac{1}{c} \frac{∂ \.A}{∂ t} - ∇ \varphi
					\.H = ∇ × \.A
					\right.
				$
				$ => \frac{d\.P}{dt} = e \.E + \frac{e}{c} \.v × \.H$
				
			对$\.E,\.H$取旋散度, 有
			
			\bf{Maxwell's方程组}:
				$ \{
					∇ · \.E = 4 π \rho
					∇ · \.H = 0
					∇ × \.E = - \frac{1}{c} \frac{∂ \.H}{∂ t}
					∇ × \.H = - \frac{1}{c} \frac{∂ \.E}{∂ t} + \frac{4π}{c}\.J
					\right.
				$
			
			* 受力
				$\.F = q (\.E + \.v × \.B)$

		\Example
			* 静电场
				$
					∇^2 A = -\frac{4 π}{c} · J			\tag{磁矢势 (恒磁场)}
					∇^2 \phi = -\frac{\rho}{ε_0}		\tag{电  势 (静电场)}
				$
				电场强度: $E = -∇ \phi$
				磁场强度: $H = -∇ × A$
				$
					∇ · E &= \frac{\rho}{ε_0}			\tag{静电场}
					∇ × E &= 0
					∇ · H &= 0				\tag{恒磁场}
					∇ × H &= \frac{4 π}{c} · J
				$
				[算法]:	Poisson's方程		
					当\rho=0时, ∇^2 \phi = 0		Laplace's方程
					解Poisson's方程, Green's函数, 得 \phi(r) = - 4π/ε0 ∫∫∫ f(rt) / |r-rt| d³rt

				\Theorem{静电场唯一性定理}
					对于各种边界条件, Poisson's方程有许多种解, 但每个解梯度相同.
					静电场下, 意味边界条件下满足Poisson's方程的势函数, 所解得电场唯一确定.

			* 恒磁场

			* 真空电磁波

			* 光学
				* 几何光学
					* 基本原理
						* 光沿直线传播.
						* 光路可逆.
						* 两束光传播中互不干扰,会聚于同一点时光强简单相加.
						* 介质分界面的光传播规律.

					* 介质分界面光传播规律
						* 反射
							\Theorem{反射定律} 入射角 = 反射角. $\theta_i = \theta_o$
							
							\Algorithm{反射光线}
								设面矢$\.N$, 入射光$L_i$, 出射光$L_o$
								$\.L_o = \.L_i - 2 (\.N · \.L_i) \.N$

								\Codes
									Mat reflect(Mat RayI, Mat N) 
										return RayO = normalize(RayI - 2 * dot(N, RayI) * N)
								
						* 折射
							\Theorem{折射定律} 
								$n_i·\sin \theta_i = n_o·\sin \theta_o$
								全反射,
								
							\Algorithm{折射光线}
								设面矢\.N, 入射光\.L_i, 出射光$L_o$, 折射率 $n = \frac{n_i}{n_o}$, 折射角$ \theta_i = <\.L, \.N>$
								$\.L_o = \.L_i + \.N· (\cos\theta_i - \frac{\sqrt{1 - n^2·\sin^2\theta_i}}{n})$

								\Proof
									$
										\.L_o &= \.L_i + \.N·\frac{\sin(\theta_o - \theta_i)}{\sin\theta_o}
										&= \.L_i + \.N· \frac{\cos\theta_i·\sin\theta_o - \cos\theta_o·\sin\theta_i}{\sin\theta_o}
										&= \.L_i + \.N· (\cos\theta_i - \frac{\cos\theta_o}{n})
										&= \.L_i + \.N· (\cos\theta_i - \frac{\sqrt{1 - n^2·\sin^2\theta_i}}{n})
									$

								\Codes
									Mat refract(Mat RayI, Mat N, double nI, double nO) 
										double n = nI / nO,
											CosI = dot(N, RayI),
											CosO = 1 - n^2 * (1 - CosI^2)

										return CosO < 0 ? reflect(RayI, N, RayO) :				//全反射
											RayO = RayI + normalize((-CosI - (CosI > 0 ? -1 : 1) * sqrt(CosO) / n) * N)

							\Example
								* 凸透镜
									\def{凸透镜} 
										边缘薄、中间厚的透镜. 主要对光起会聚的作用.

									\Property
										* 物距 $u > 2 F$, 像距$v \in (F, 2F)$, 倒立缩小的实像, 物像异侧.
										* 物距 $u = 2 F$, 像距$v = 2 F$, 倒立等大的实像, 物像异侧.
										* 物距 $u \in (F, 2F)$, 像距$v > 2 F$, 倒立放大的实像, 物像异侧.
										* 物距 $u = F$, 不成像.
										* 物距 $u < f$, 像距$v > F$, 正立放大的虚像, 物像同侧.

								* 凹透镜
							
						* 漫反射
							在面矢半球内，面积均匀的随机取一射线，作为反射光线.

							\Codes
								Mat diffuseReflect(Mat RayI, Mat N)
									double r1 = 2 * PI * Rand(), r2 = Rand()
									Mat t(3), u, v
									N *= dot(N, RayI) > 0 ? -1 : 1
									t[0] = abs(N[0]) > 0.1 ? 0 : 1
									t[1] = t[0] == 0 ? 1 : 0
									u = normalize(cos(r1) * sqrt(r2) * cross(t, N))
									v = normalize(sin(r1) * sqrt(r2) * cross(N, u))
									return RayO = normalize(sqrt(1 - r2) * N + u + v)

					* 光照模型
						\Theorem{双向反射分布函数}
							一个表面上某一点的亮度由以下几部分组成, 表面的自发光$L_e$, 所有射向该表面的入射光线$L_i$经过表面特性作用后的出射光线.
							$L_o(\.x, \omega_o, \lambda, t) = L_e(\.x, \omega_o, \lambda, t) + \int_{\Omega} f_r(\.x, \omega_i, \omega_0, \lambda, t) L_i(\.x, \omega_i, \lambda, t)(\omega_i · \.n) \d \omega_i$

					* 雾
						\Theorem{雾图模型}
							$L_o(x)$ 观测到的亮度, $L_i(x)$ 原始无雾时亮度, $t(x)$ 透射率, $A$大气光亮度.
							$L_o(x) = L_i(x) · t(x) + A · (1 - t(x))$
							表示当大气密度、成分是均匀同质时, 透射率有,
							$t(x) = e^{-\beta d(x)}$

							\Notes
								雾图模型, 即每个原始像素亮度和大气光亮度, 按比例$t : (1-t)$调配(透射率). 大气光的比例越多, 雾感越强. 得到每个像素的透射率和大气光亮度, 即可实现雾化和去雾的功能.
								* 当大气密度、成分是均匀同质时, 透射率与像素所在的景物深度相关. 景深越深, 大气光占比越大. 
								* 当像素景深近似无限远时, 可认为该点透射率$t = 0$, 像素亮度全由大气光提供. 可由此得到大气光亮度值$A$.

					\Algorithm{光线追踪}
						* 步骤:
							* 计算屏幕矢量、屏幕X,Y向轴
							* 对屏幕每个像素遍历
								* 计算像素矢量、光线矢量、光线追踪起点
								* 光线追踪算法, 计算该像素色彩
									* 遍历对象集合(对象树)中的每一个对象
										* 判断光线和该对象是否相交、光线走过距离、交点坐标、光线夹角
										* 保留光线走过距离最近的对象的相关数据
									* 如果该光线等级小于设定的阈值等级, 计算对象反射方向，将反射光线为基准重新计算
								* 基于结果

						\Codes
							# 光线追踪(主)
							Mat RayTracingMain(Mat Screen, ObjectTree* objTree, int sampleSt, int sampleEd)
								//[1]
								Mat ScreenVec, ScreenXVec, ScreenYVec
								ScreenVec = gCenter - Eye
								ScreenYVec = normalize({ScreenVec[0] == 0 ? 0 : -ScreenVec[1] / ScreenVec[0], 1, 0})
								ScreenXVec = normalize(cross(ScreenVec, ScreenYVec))

								//[2]
								Mat PixVec, Ray, RaySt, color(3)
								for sample in range(sampleSt, sampleEd)
									double rate = 1.0 / (sample + 1), randX = rand(), randY = rand()

									Screen *= 1 - rate

									for x in range(0, Screen.rows)
										for y in range(0, Screen.cols)
											//[2.1]
											PixVec 
												= (x + randX - Screen.rows / 2 - 0.5) * ScreenXVec 
												+ (y + randY - Screen.cols / 2 - 0.5) * ScreenYVec

											//[2.2]
											color = RayTracing(
												RaySt = gCenter + PixVec, 
												Ray = normalize(ScreenVec + PixVec), 
												objTree, zero(color), 0
											) 
											Screen(x, y) += rate * color

							# 光线追踪(每像素)
							Mat RayTracing(Mat RaySt, Mat Ray, ObjectTree* objTree, Mat color, int level) 

								//搜索光线-对象的最近交点距离
								Object* obj
								double dis = objTree.seekIntersection(RaySt, Ray, obj) 

								//无交点
								if (dis == DBL_MAX) 
									zero(color)
							
								//光源
								else if (obj->material->rediate)
									color = obj->material->color
							
								//最大追踪层数
								else if (level > maxRayLevel) 
									return color
							
								else 
									Material* material = obj->material

									//计算面矢、交点
									Mat faceVec ###
									RaySt += (dis * Ray)
							
									//漫反射
									if (material->diffuseReflect)
										Ray = diffuseReflect(Ray, faceVec)
										traceRay(RaySt, Ray, color, level + 1)
										color *= material->reflectLossRate
									
									//反射
									else if (RAND_DBL < material->reflect)
										Ray = reflect(Ray, faceVec)
										traceRay(RaySt, Ray, color, level + 1)
										color *= material->reflectLossRate
									
									//折射
									else
										Ray = refract(Ray, faceVec, material->refractRate)
										traceRay(RaySt += (eps * Ray)), Ray, color, level + 1)
										color *= material->refractLossRate
							
									color = elementMul(color, material->color)
									
								// 雾
								if(haze) 
									color = Haze(color, airColor, dis, beta)

								return color

	* 引力场
		* 牛顿万有引力
			$\.F = G \frac{m_1}{m_2}{r^2} \hat r$

* 量子力学
	* 波函数
		$\int |\Psi_n|^2 \d q = 1$

	* 
		$p = \frac{h}{\lambda}$
		
	\Theorem{Schrödinger 方程}
		$
			i \hbar· \frac{∂\psi(r,t)}{∂t} = (-\frac{\hbar}{2m} ∇^2  + U(r,t)) · \psi(r,t)
			or\quad	i\hbar · \frac{d}{d t} · |\psi(t)> = H |\psi(t)>
		$
		$\hbar = \frac{h}{2 π}$: 约化Planck常量; $U(r,t)$: 势.
		$H = -\frac{\hbar}{2 m} ∇^2  + U(r)$: Hamiltonian算子.
		$\psi(r,t)$: 波函数, 粒子t时刻出现在r处的概率.
	
		* 时不变 Schrödinger 方程:
			$
				(-\frac{\hbar}{2 m} ∇^2  + U(r)) · \psi(r)  = E \psi(r)
				or\quad	H |\psi> = E |\psi>
			$
			E: 系统的能级, 常量. 这是一个特征值方程.

	\Theorem{不确定性原理}
		$
			\sigma_A^2 \sigma_B^2 ≥ (\frac{1}{2 i} < [\hat A, \hat B] >)^2
		$


* 统计力学
	* 理想气体
		\Theorem{理想气体状态方程}
			$P V = n R T$

	* 热力学
		* 熵
			\def{熵}
				$S = k · \log \Omega$

				$\oint \frac{\d Q}{T} ≤ \oint \d S = 0$

		* 热力学第零定律 -- 热平衡定律
			\Theorem{热力学第零定律 -- 热平衡定律}
				热平衡传递性

			* 温度
				$\frac{\d S}{\d E} = \frac{1}{T}$

		* 热力学第一定律 -- 能量守恒定律
			\Theorem{热力学第一定律 -- 能量守恒定律}
				物体内能的增加等于物体吸收的热量和对物体所作的功的总和.
				$△U = Q + W$
				$△U$ 内能的增加; Q 吸收的热量; W 对物体所作的功.

			* 焓
				\def{焓}
					$H = U + p V$

		* 热力学第二定律
			\Theorem{热力学第二定律}
				克劳修斯表述为: 热量不能自发地从低温物体转移到高温物体. 
				开尔文表述为: 不可能从单一热源取热使之完全转换为有用的功而不产生其他影响.
				
		* 热力学过程
			* 等焓过程
			* 等压过程
			* 等温过程
			* 等容过程

		* Maxwell 分布
			$f_M(v) = \frac{m}{2 π k T} e^{\frac{-m v^2}{2 k T}}$

		* 
			$N_B(\.r) = n_0 e^{-\frac{U(\.r)}{k T}}$


